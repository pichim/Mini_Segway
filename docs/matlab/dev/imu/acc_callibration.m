clc, clear variables
addpath ../../fcns/
%%

% 27.06.2024 orange segway
acc = [-0.1771, -10.1319, 0.0112; ...
     -0.2197, -7.9801, 6.1047; ...
     -0.3069, -0.2792, 9.8349; ...
     -0.3995, 7.5991, 6.2229; ...
     -0.4127, 9.8551, 0.2786; ...
     -0.3752, 6.2332, -7.6008; ...
     -0.6432, -0.1110, -9.8389; ...
     -0.2246, -7.6173, -6.4990; ...
     -10.1365, -0.2376, -0.1545; ...
     6.2658, -0.2272, -7.3275; ...
     -8.3112, -0.3767, 5.6912; ...
     7.2322, 0.1359, 6.3125; ...
      -6.8576, -0.2236, -7.3375; ...
      9.5332, 0.0751, -0.0151];
% b =
%    -0.2997   -0.1381    0.0028


figure(1)
for i = 1:size(acc, 1)
    quiver3(0, 0, 0, acc(i,1), acc(i,2), acc(i,3)), grid on, hold on
end
hold off
axis equal

[A, b, expmfs] = magcal(acc, 'sym')

[A, b, expmfs] = magcal(acc, 'eye')


[A, b, expmfs] = magcal(acc - b, 'eye')